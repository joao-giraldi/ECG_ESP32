<!doctype html>
<html lang="pt-br">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>ECG Viewer</title>
    <link rel="stylesheet" href="style.css" />
    <script src="script.js" defer></script>
</head>

<body>
    <div class="wrap">
        <div class="card">
            <div class="head">
                <div class="title">ECG — Visualizador</div>
                <div class="pill">Acesse <b>192.168.4.1</b> conectado ao Wi-Fi do ESP</div>
            </div>

            <!-- CONTROLES: 5 itens diretos no grid -->
            <div class="controls">
                <div class="ctrl">
                    <label for="fileSel">Arquivo</label>
                    <select id="fileSel"></select>
                </div>

                <div class="ctrl">
                    <label for="fs">Fs (Hz)</label>
                    <input id="fs" type="number" inputmode="numeric" value="500" min="1" />
                </div>

                <div class="ctrl">
                    <label for="fmt">Formato</label>
                    <select id="fmt">
                        <option value="i16le" selected>Int16 LE</option>
                        <option value="u16le">Uint16 LE</option>
                        <option value="i8">Int8</option>
                        <option value="u8">Uint8</option>
                    </select>
                </div>

                <div class="ctrl">
                    <label for="gain">Ganho (LSB→mV)</label>
                    <input id="gain" type="number" step="0.01" value="1.0" />
                </div>

                <div class="ctrl btn-wrap">
                    <label>&nbsp;</label>
                    <button id="btnLoad" class="btn">Carregar &amp; Desenhar</button>
                </div>

                <!-- dentro de .controls, ao lado do botão Carregar -->
                <!-- <div class="ctrl btn-wrap">
                    <label>&nbsp;</label>
                    <button id="btnLocal" class="btn" type="button">Usar .bin local</button>
                    <input id="localFile" type="file" accept=".bin" hidden />
                </div> -->

            </div>

            <div class="canvasBox">
                <canvas id="chart"></canvas>
                <input id="xScroll" class="x-scroll" type="range" min="0" max="1000" value="0" />

                <!-- overlay de zoom dentro do gráfico -->
                <div class="zoom-overlay">
                    <label for="zoomCtrl">Zoom</label>
                    <input id="zoomCtrl" type="range" min="0" max="1000" value="300" />
                </div>
            </div>

        </div>


        <div class="footer">
            <span id="meta">–</span>
            <span id="stat"></span>
        </div>
    </div>
    </div>
</body>

</html>